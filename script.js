// User Data (embedded from data.json for this environment)
const userData = {
    "name": "Deepak Kumar Mohanty",
    "profile": {
      "headline": "Data Science Intern at Aimerz.ai | BCA Graduate with a Passion for Crafting AI-Driven Innovations",
      "location": "Baleswar, Odisha, India",
      "about": "BCA graduate passionate about pushing the limits of data science and exploring AI to solve tough problems. Skilled in advanced AI tools with a goal to drive innovation through data.",
      "background_image": "https://media.licdn.com/dms/image/v2/D5616AQE_DJNyYbQptw/profile-displaybackgroundimage-shrink_200_800/profile-displaybackgroundimage-shrink_200_800/0/1734779933933?e=2147483647&v=beta&t=mNX0csqUhxI32xy90unjqNe17PLMvqdHIuidiTPdtZ4",
      "linkedin_url": "https://www.linkedin.com/in/deepak-kumar-mohanty-09aa59230",
      "followers": "1K+",
      "connections": "500+"
    },
    "experience": [
      {
        "title": "Data Science Intern",
        "company": "AIMERZ",
        "company_logo": "https://media.licdn.com/dms/image/v2/D560BAQEJ1F0KbhTEGA/company-logo_100_100/company-logo_100_100/0/1726232444400/aimerz_logo?e=2147483647&v=beta&t=YANGOev7rD0L__aL0iJHk-Wlul3BozCdvcDS6dDuQpk",
        "company_linkedin_link": "https://in.linkedin.com/company/aimerz?trk=public_profile_experience-item_profile-section-card_subtitle-click",
        "company_website_link": "https://aimerz.ai/",
        "start_date": "Nov 2024",
        "end_date": "Present",
        "duration": "6 months"
      },
      {
        "title": "Professional Development",
        "company": "Career Break",
        "start_date": "May 2024",
        "end_date": "Oct 2024",
        "duration": "6 months"
      }
    ],
    "education": [
      {
        "institution": "Bhadrak Autonomous College",
        "degree": "Bachelor's in Computer Application (BCA)",
        "field": "Computer Programming",
        "duration": "2021 - 2024",
        "logo": "https://media.licdn.com/dms/image/v2/D4D0BAQH3yDpggvrleQ/company-logo_100_100/company-logo_100_100/0/1687778014361?e=2147483647&v=beta&t=ue4yltWsux46BQt6K7cgNXbTsx2PPmh6kZVXgWQ6GfU",
        "college_linkedin_link": "https://in.linkedin.com/school/bhadrak-auto.-college/?trk=public_profile_school_profile-section-card_image-click",
        "college_website_link": "https://bhadrakcollege.ac.in/"
      }
    ],
    "highlighted_activities": [
      {
        "title": "Are you also learning the same concept again and again, feeling stuck and underconfident?",
        "link": "https://www.linkedin.com/posts/yesmithun_are-you-also-learning-the-same-concept-again-activity-7317825699933777920-LOk1",
        "image": "https://media.licdn.com/dms/image/v2/D4D22AQFVJYV-C9H8CA/feedshare-shrink_2048_1536/B4DZY4jsHJGwAw-/0/1744705604309?e=2147483647&v=beta&t=AQhTmwKr3F2IiEhuCOnQyDT1nqHvcofBkxad5sS-uIo"
      },
      {
        "title": "Just completed my Micro-Certification â€“ Welcome to ServiceNow from ServiceNow!",
        "link": "https://www.linkedin.com/posts/arpita-verma-8b2760251_servicenow-microcertification-certified-activity-7317244705186951168-sky8",
        "image": "https://media.licdn.com/dms/image/v2/D5622AQGrFzdRs7mlMQ/feedshare-shrink_2048_1536/B56ZYwTR59H0Ao-/0/1744567084407?e=2147483647&v=beta&t=59XwnSLZhsQ7YDFXoLLWiOG12mfZE5paXAXVMfRRmPs"
      },
      {
        "title": "Power-Packed Week on Sequence Modeling, Anomaly Detection & Recommender Systems",
        "link": "https://www.linkedin.com/posts/joyeeta-majumdar-a7a067281_power-packed-week-on-sequence-modeling-activity-7317224549010337792-VWVG",
        "image": "https://media.licdn.com/dms/image/v2/D4E22AQG1wApc9R_J2w/feedshare-shrink_2048_1536/B4EZYwA8UyG0Ao-/0/1744562276776?e=2147483647&v=beta&t=JxYiFbve5Oc7XPHNJG6JVCbhHaPIAvwALSOa1bV4th4"
      },
      {
        "title": "Crafting a Smart Expense Tracker with React.js",
        "link": "https://www.linkedin.com/posts/rachana-jena12_reactjs-tailwindcss-frontenddevelopment-activity-7316320352249253888-Vjf-",
        "image": "https://media.licdn.com/dms/image/v2/D5605AQEBW4Zb0kEYeg/videocover-high/B56ZYg8BC.GcBs-/0/1744309337004?e=2147483647&v=beta&t=EmOwZElYyaRcsw8Uf37AtTTyZwGTn2dTYfD1XSUGbCw"
      }
    ],
    "skills": {
      "industry_knowledge": [
        "Machine Learning",
        "Statistical Data Analysis",
        "Artificial Intelligence (AI)",
        "Generative AI",
        "Artificial Intelligence for Business",
        "Natural Language Processing (NLP)",
        "Project Management",
        "Programming Concepts",
        "Creative Problem Solving",
        "Mathematics",
        "Secondary Mathematics",
        "Data Structures"
      ],
      "tools_and_technologies": [
        "Git",
        "GitHub",
        "Git BASH",
        "Postman API",
        "Microsoft Office",
        "Linux",
        "MongoDB",
        "SQL",
        "HTML"
      ],
      "libraries_frameworks": [
        "NumPy",
        "Pandas",
        "Matplotlib",
        "Seaborn",
        "Plotly",
        "streamlit",
        "flask",
        "fastAPI",
        "Scikit-Learn"
      ],
      "programming_languages": [
        "Python",
        "C",
        "C++",
        "Core Java",
        "SQL"
      ],
      "concepts_approaches": [
        "Object-Oriented Programming (OOP)",
        "NoSQL Databases"
      ],
      "interpersonal_skills": [
        "Time Management",
        "Adaptability",
        "Communication",
        "Team Collaboration",
        "Leadership",
        "Creative Problem Solving"
      ]
    }
  };

// Populate Header
document.getElementById('header-initials').textContent = 'DKM';
document.getElementById('header-name').textContent = ''; // Removed full name from header

// Populate Hero Section
document.getElementById('hero-name').textContent = userData.name;
document.getElementById('hero-headline').textContent = "Crafting AI-Driven Innovations"; // Crisp headline
document.getElementById('hero-about').textContent = ""; // Removed description from hero

// Populate About Section
document.getElementById('about-content').innerHTML = `
    <p class="text-lg leading-relaxed mb-6">
        ${userData.profile.about}
    </p>
    <p class="text-lg leading-relaxed mb-6">
        As a Data Science Intern at AIMERZ, I am passionate about pushing the limits of data science and exploring AI to solve tough problems. My expertise includes Machine Learning, Statistical Data Analysis, Generative AI, and Natural Language Processing.
    </p>
    <p class="text-lg leading-relaxed">
        I am proficient in programming languages like Python, C, C++, and Core Java, and skilled with tools and technologies such as Git, GitHub, MongoDB, and SQL. My work involves transforming raw data into actionable intelligence, contributing to data-driven decision-making.
    </p>
`;

// Populate Experience Section
const experienceContainer = document.getElementById('experience-container');
if (userData.experience && userData.experience.length > 0) {
    userData.experience.forEach(exp => {
        experienceContainer.innerHTML += `
            <div class="bg-gray-700 p-6 rounded-lg shadow-md card-hover-effect scroll-reveal">
                <div class="flex items-center mb-4">
                    ${exp.company_logo ? `<img src="${exp.company_logo}" alt="${exp.company} Logo" class="w-12 h-12 rounded-full mr-4 object-cover">` : ''}
                    <div>
                        <h4 class="text-xl font-semibold text-gray-50">${exp.title}</h4>
                        <p class="text-teal-400 text-lg">${exp.company}</p>
                    </div>
                </div>
                <p class="text-gray-300 mb-2">${exp.start_date} - ${exp.end_date} (${exp.duration})</p>
                ${exp.company_website_link ? `<a href="${exp.company_website_link}" target="_blank" class="text-blue-400 hover:underline text-sm block">Company Website</a>` : ''}
                ${exp.company_linkedin_link ? `<a href="${exp.company_linkedin_link}" target="_blank" class="text-blue-400 hover:underline text-sm block">LinkedIn Profile</a>` : ''}
            </div>
        `;
    });
} else {
    experienceContainer.innerHTML = `<p class="text-center text-gray-400">No experience details available.</p>`;
}

// Populate Education Section
const educationContainer = document.getElementById('education-container');
if (userData.education && userData.education.length > 0) {
    userData.education.forEach(edu => {
        educationContainer.innerHTML += `
            <div class="bg-gray-700 p-6 rounded-lg shadow-md card-hover-effect scroll-reveal">
                <div class="flex items-center mb-4">
                    ${edu.logo ? `<img src="${edu.logo}" alt="${edu.institution} Logo" class="w-12 h-12 rounded-full mr-4 object-cover">` : ''}
                    <div>
                        <h4 class="text-xl font-semibold text-gray-50">${edu.degree}</h4>
                        <p class="text-teal-400 text-lg">${edu.institution}</p>
                    </div>
                </div>
                <p class="text-gray-300 mb-2">${edu.field}</p>
                <p class="text-gray-300 mb-2">${edu.duration}</p>
                ${edu.college_website_link ? `<a href="${edu.college_website_link}" target="_blank" class="text-blue-400 hover:underline text-sm block">College Website</a>` : ''}
                ${edu.college_linkedin_link ? `<a href="${edu.college_linkedin_link}" target="_blank" class="text-blue-400 hover:underline text-sm block">LinkedIn Profile</a>` : ''}
            </div>
        `;
    });
} else {
    educationContainer.innerHTML = `<p class="text-center text-gray-400">No education details available.</p>`;
}


// Populate Skills Section
const skillsContainer = document.getElementById('skills-container');
const skillCategories = {
    "Programming Languages": userData.skills.programming_languages,
    "Libraries & Frameworks": userData.skills.libraries_frameworks,
    "Tools & Technologies": userData.skills.tools_and_technologies,
    "Industry Knowledge": userData.skills.industry_knowledge,
    "Concepts & Approaches": userData.skills.concepts_approaches,
    "Interpersonal Skills": userData.skills.interpersonal_skills
};

const skillIcons = {
    "Programming Languages": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>`,
    "Libraries & Frameworks": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>`,
    "Tools & Technologies": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.592 1L21 12m-2 2L12 21m-2-9l-4 4m3-4a6 6 0 00-6-6v4"></path></svg>`,
    "Industry Knowledge": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`,
    "Concepts & Approaches": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path></svg>`,
    "Interpersonal Skills": `<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>`
};

// Function to get a random high percentage for skills
function getRandomSkillPercentage() {
    return Math.floor(Math.random() * (95 - 75 + 1)) + 75; // Between 75% and 95%
}

for (const category in skillCategories) {
    if (skillCategories[category] && skillCategories[category].length > 0) {
        let skillsListHtml = skillCategories[category].map(skill => {
            const percentage = getRandomSkillPercentage();
            return `
                <div class="mb-3">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-gray-200 text-md font-medium">${skill}</span>
                        <span class="text-teal-400 text-sm font-semibold">${percentage}%</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2.5">
                        <div class="bg-teal-500 h-2.5 rounded-full progress-bar-fill" style="--progress-width: ${percentage}%;"></div>
                    </div>
                </div>
            `;
        }).join('');

        skillsContainer.innerHTML += `
            <div class="bg-gray-700 p-6 rounded-lg shadow-md card-hover-effect scroll-reveal">
                <h4 class="text-xl font-semibold text-gray-50 mb-6 flex items-center">
                    ${skillIcons[category] || '<svg class="w-6 h-6 text-teal-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'}
                    ${category}
                </h4>
                <div>
                    ${skillsListHtml}
                </div>
            </div>
        `;
    }
}

// Populate Footer
document.getElementById('footer-name').textContent = 'DKM';
document.getElementById('copyright-name').textContent = userData.name;
document.getElementById('footer-tagline').textContent = "Data Scientist | Crafting AI-Driven Innovations.";

// Update LinkedIn URL
const linkedinLink = document.getElementById('linkedin-link');
if (userData.profile.linkedin_url) {
    linkedinLink.href = userData.profile.linkedin_url;
}

// Scroll Reveal Animation Logic
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('active');
            const heading = entry.target.querySelector('.section-heading');
            if (heading) {
                heading.classList.add('animate');
            }
            // Trigger progress bar animations when skills section is active
            if (entry.target.id === 'skills') {
                entry.target.querySelectorAll('.progress-bar-fill').forEach(bar => {
                    bar.style.animation = 'none'; // Reset animation
                    void bar.offsetWidth; // Trigger reflow
                    bar.style.animation = null; // Re-apply animation
                });
            }
        } else {
            entry.target.classList.remove('active');
            const heading = entry.target.querySelector('.section-heading');
            if (heading) {
                heading.classList.remove('animate');
            }
        }
    });
}, { threshold: 0.1 }); // Trigger when 10% of the element is visible

document.querySelectorAll('.scroll-reveal').forEach(section => {
    observer.observe(section);
});

// Add specific animation to hero elements on load
document.addEventListener('DOMContentLoaded', () => {
    const heroElements = document.querySelectorAll('.animate-fade-in');
    heroElements.forEach((el, index) => {
        el.style.animationDelay = `${index * 0.1}s`;
        el.classList.add('animate-fade-in');
    });
});
